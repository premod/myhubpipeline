<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>



	
		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
		<meta name="generator" content="Adobe GoLive 6"><title>Anzovin Studio -&nbsp;Lively Animation for Film, TV &amp; Games</title>
		
		<link href="manual_files/anzovinstyle.css" rel="stylesheet" media="screen">
		<style type="text/css" media="screen"> p{width: 550px;}</style>
	<style type="text/css"> p {padding: 5px 0px 5px 30px;} </style><style type="text/css"> h1 {padding: 5px 0px 5px 30px;} </style><style type="text/css"> h2 {padding: 5px 0px 4px 30px;} </style><style type="text/css"> h3 {padding: 5px 0px 3px 30px;} </style><style type="text/css"> h4 {padding: 5px 0px 2px 30px;} </style><style type="text/css"> h5 {padding: 5px 0px 2px 30px;} </style><style type="text/css"> h6 {padding: 5px 0px 2px 30px;} </style></head><body>
	<div class="container" align="center">

		<div class="header">
			<a title="Anzovin Studio Home" href="file:///C:/Dave%27s%20Stuff/Studio%20Projects/Website%20-%20CSS/Anzovin%20folder/Anzovin/index.html">
				<img class="logo" src="manual_files/logo.gif" alt="Anzovin Studio Home" border="0">
			</a>
		</div>	

		<div class="head_buttons">
			<div id="h_btn01"><a title="Home" href="file:///C:/Dave%27s%20Stuff/Studio%20Projects/Website%20-%20CSS/Anzovin%20folder/Anzovin/index.html"><img class="h_button" src="manual_files/head_b1spacer.gif" alt="Home" style="visibility: hidden;" border="0"></a></div>
			<div id="h_btn02"><a title="News" href="file:///C:/Dave%27s%20Stuff/Studio%20Projects/Website%20-%20CSS/Anzovin%20folder/Anzovin/news.html"><img class="h_button" src="manual_files/head_b2spacer.gif" alt="News" style="visibility: hidden;" border="0"></a></div>
			<div id="h_btn03"><a title="Portfolio" href="file:///C:/Dave%27s%20Stuff/Studio%20Projects/Website%20-%20CSS/Anzovin%20folder/Anzovin/portfolio.html"><img class="h_button" src="manual_files/head_b3spacer.gif" alt="Portfolio" border="0"></a></div>
			<div id="h_btn04_c"><a title="Products" href="file:///C:/Dave%27s%20Stuff/Studio%20Projects/Website%20-%20CSS/Anzovin%20folder/Anzovin/products.html"><img class="h_button" src="manual_files/head_b4spacer.gif" alt="Products" border="0"></a></div>
			<div id="h_btn05"><a title="Links" href="file:///C:/Dave%27s%20Stuff/Studio%20Projects/Website%20-%20CSS/Anzovin%20folder/Anzovin/links.html"><img class="h_button" src="manual_files/head_b5spacer.gif" alt="Links" border="0"></a></div>
			<div id="h_btn06"><a title="About" href="file:///C:/Dave%27s%20Stuff/Studio%20Projects/Website%20-%20CSS/Anzovin%20folder/Anzovin/about.html"><img class="h_button" src="manual_files/head_b6spacer.gif" alt="About" border="0"></a></div>
			<div id="h_btn07"><a title="Contact" href="file:///C:/Dave%27s%20Stuff/Studio%20Projects/Website%20-%20CSS/Anzovin%20folder/Anzovin/contact.html"><img class="h_button" src="manual_files/head_b7spacer.gif" alt="Contact" border="0"></a></div>
			<div id="h_btn08"><a title="Button8" href="file:///C:/Dave%27s%20Stuff/Studio%20Projects/Website%20-%20CSS/Anzovin%20folder/Anzovin/index.html"><img class="h_button" src="manual_files/head_b1spacer.gif" alt="Button8" border="0"></a></div>
			<div id="h_btn09"><a title="Button9" href="file:///C:/Dave%27s%20Stuff/Studio%20Projects/Website%20-%20CSS/Anzovin%20folder/Anzovin/index.html"><img class="h_button" src="manual_files/head_b1spacer.gif" alt="Button9" border="0"></a></div>
			<div id="h_btn10"><a title="Button10" href="file:///C:/Dave%27s%20Stuff/Studio%20Projects/Website%20-%20CSS/Anzovin%20folder/Anzovin/index.html"><img class="h_button" src="manual_files/head_b1spacer.gif" alt="Button10" border="0"></a></div>
		</div>


		<div class="nav_buttons">
			<div id="n_tfmManualBtn01"><a title="Introduction" href="#introduction"><h4 style="margin: 5px 0px 0px 25px; padding: 0px;">Introduction</h4></a></div>
			<div id="n_tfmManualBtn01"><a title="Getting Started" href="#getting_started"><h4 style="margin: 5px 0px 0px 25px; padding: 0px;">Getting Started</h4></a></div>
			<div id="n_tfmManualBtn01"><a title="Rigging Process" href="#rigging_process"><h4 style="margin: 5px 0px 0px 25px; padding: 0px;">Rigging Process</h4></a></div>
				<div id="n_tfmManualBtn01"><a title="Modelling for TFM" href="#modelling_for_rigging"><h5 style="margin: 3px 0px 0px 30px; padding: 0px;">Modelling for TFM</h5></a></div>
				<div id="n_tfmManualBtn01"><a title="Adding the Widget" href="#step_1"><h5 style="margin: 0px 0px 0px 30px; padding: 0px;">Adding the Widget</h5></a></div>
				<div id="n_tfmManualBtn01"><a title="Positioning Controls" href="#step_2"><h5 style="margin: 0px 0px 0px 30px; padding: 0px;">Positioning Controls</h5></a></div>
				<div id="n_tfmManualBtn01"><a title="Defining Face Objects" href="#step_3"><h5 style="margin: 0px 0px 0px 30px; padding: 0px;">Defining Face Objects</h5></a></div>
				<div id="n_tfmManualBtn01"><a title="Rigging and Testing" href="#step_5"><h5 style="margin: 0px 0px 0px 30px; padding: 0px;">Rigging and Testing</h5></a></div>
				<div id="n_tfmManualBtn01"><a title="Weight Painting" href="#step_6"><h5 style="margin: 0px 0px 0px 30px; padding: 0px;">Weight Painting</h5></a></div>
			<div id="n_tfmManualBtn01"><a title="TFM Controls" href="#the_tfm_controls"><h4 style="margin: 5px 0px 0px 25px; padding: 0px;">TFM Controls</h4></a></div>
				<div id="n_tfmManualBtn01"><a title="Secondary Controls" href="#secondary_controls"></a><h5 style="margin: 3px 0px 0px 30px; padding: 0px;"><a title="Secondary Controls" href="#secondary_controls">Secondary Controls</a></h5></div>
				<div id="n_tfmManualBtn01"><a title="TFM Maps" href="#tfm_maps"></a><h5 style="margin: 0px 0px 0px 30px; padding: 0px;"><a title="TFM Maps" href="#tfm_maps">TFM Maps</a></h5></div>
				<div id="n_tfmManualBtn01"><a title="Box Controls" href="#box_controls"></a><h5 style="margin: 0px 0px 0px 30px; padding: 0px;"><a title="Box Controls" href="#box_controls">Box Controls</a></h5></div>
			<div id="n_tfmManualBtn01"><a title="Poses" href="#poses"><h4 style="margin: 5px 0px 0px 25px; padding: 0px;">Poses</h4></a></div>
			<div id="n_tfmManualBtn01"><a title="Multiple Characters" href="#multiple_characters"><h4 style="margin: 5px 0px 0px 25px; padding: 0px;">Multiple Characters</h4></a></div>
			<div id="n_tfmManualBtn01"><a title="Disabling TFM" href="#disabling_tfm"><h4 style="margin: 5px 0px 0px 25px; padding: 0px;">Disabling TFM</h4></a></div>
			<div id="n_tfmManualBtn01"><a title="Anzovin Rig Nodes" href="#anzovin_rig_nodes"><h4 style="margin: 5px 0px 0px 25px; padding: 0px;">Anzovin Rig Nodes</h4></a></div>
			<div id="n_tfmManualBtn01"><a title="Contact Us" href="#contact_us"><h4 style="margin: 5px 0px 0px 25px; padding: 0px;">Contact Us</h4></a></div>
			<div id="n_tfmManualBtn01"><a title="Credits" href="#credits"><h4 style="margin: 5px 0px 0px 25px; padding: 0px;">Credits</h4></a></div>
		</div>


		<div class="nav03">
		</div>
		
		<!-- TFM01 MANUAL01  -->
		
		<div class="maintext" style="background-image: url(../graphics/tfmBG.gif); background-repeat: no-repeat;">
			
			
			
			
			
			
			
			
			<br>
			<!-- MANUAL -->

			
<h1>The Face Machine Manual</h1>

<h2><a name="introduction">Introduction</a></h2>

<p style="width: 450px;">The Face Machine (aka TFM) is an auto-rigging
tool for Maya. It rigs faces. (If you need to rig bodies, you'll want
to take a look at our other auto-rigging tool, <a href="">The Setup Machine.</a>)
More specifically, TFM sets up an powerful, intuitive rig for facial
animation. Whether you need cartoony exaggeration, subtle realism, or
just some fast, solid lipsync, this rig can do the job. Oh, and TFM
does intelligent point weighting. And when we say intelligent, we mean
"smart enough to weight the lids of a closed eye, correctly." </p><p style="width: 450px;">We made The Face Machine because we wanted to use it ourselves. We hope you'll find it useful, too.


</p><h2><a name="getting_started">Getting Started</a></h2>

<p>The Face Machine is a plug-in for Maya. Once you've installed it,
you'll need to use Maya's Plug-in Manager to load it. You'll also need
to have your serial number handy, so if you haven't gotten it yet,
you'll need to wait a little bit longer. Hang in there. Keep checking
your e-mail. And if you don't get it within 24 hours of placing your
order, e-mail sales@anzovin.com.
</p><p>To load TFM, select "Plug-in Manager" in the "Window &gt; Settings / Preferences" sub-menu:

</p><p><img src="manual_files/installation01.jpg" alt="Selecting the Plug-in Manager in The Settings / Preferences sub-menu.">

</p><p>Which will bring up this:

</p><p><img src="manual_files/installation02.jpg" alt="The Plug-in Manager.">

</p><p>Click the "loaded" checkbox next to faceMachine.mll You'll be
prompted to enter your serial number. Once you've done that, you'll
probably want to check "auto load" as well, so that you won't need to
reload TFM every time you restart Maya.
</p><p>Now you can get started on...

</p><h2><a name="the_rigging_process">The Rigging Process</a></h2>

<p>To rig a face with The Face Machine, you start by adding a <i>widget</i>
to your scene. If you've used The Setup Machine, our body rigging
software, this process should seem familiar. For those of you just
joining us, yes, "widget" is the technical term. It's what we call a
set of pre-rig controls and influence objects. The influence objects
will ultimately control your character's geometry. The widget controls
are just there to help you position the influence objects, so don't get
too attached to them. They'll be replaced by (much more powerful)
animation controls later on.
</p><p class="figureTitle">Figure 0.1: The Face Machine Widget
</p><p><img src="manual_files/figure00.gif" alt="The Face Machine widget, with all widget controls displayed (in shades of blue), as well as the influence objects (black.)">

</p><p>The widget controls and influence objects are both NURBS curves,
but the influence objects are black (and non-selectable), while
controls are blue (and controllable.)
</p><p>Once you've imported the widget, your next step will be to fit
it as closely as possible to the face, by moving, rotating, and/or
scaling the widget controls. There's a simple hierarchy of controls,
allowing you to do some quick overall positioning and then follow it up
with more detailed tweaking. If necessary, you can even edit the
influence object's curves directly. When TFM does its auto-rigging
magic, the face geometry will be weighted to those curves, so a good
fit is essential.
</p><p>Once you've got that, you just tell TFM which piece(s) of
geometry are the face -- and optionally, the eyes, teeth, and/or
tongue. Then save your file and click "Rig." In seconds, you'll have a
fully-rigged face. (Okay, possibly several minutes' worth of seconds,
depending on the complexity of your face and the horsepower of your
hardware.) </p><p>So that's the overview. If you've got a character ready to rig and a deadline looming, you can go on ahead to <a href="#step_1">Step 1.</a> Otherwise, you might want to consider... 


</p><h3><a name="modelling_for_rigging">Step 0: Modelling for rigging.</a></h3>

<p>The Face Machine is flexible enough to rig virtually any face (as
long as it's basically humanoid). However, if you're creating a model
from scratch, following these guidelines will improve the end result.
</p><p>0) The face MUST be a poly mesh. Note that this restriction doesn't apply to the eyes, teeth, or tongue -- just the face.

</p><p>1) Use edge loop modelling. This is a methodology, not a
specific technique, and a detailed explanation is beyond the scope of
this manual. In brief, model your face such that edge loops follow its
natural contours. This will yield smoother deformations, and is
especially helpful around the mouth and eyes. It also helps the
auto-weighting system to weight the mouth and eyes correctly.
</p><p>2) Use enough geometry -- but not too much. Of course, a
low-poly face won't give TFM (or you) much to work with, but going
high-poly too soon can also be a mistake. You can usually subdivide
later, and get better performance in the meantime.
</p><p>3) Beware of unnecessary n-sided polygons, excessively
non-planar polygons, and misplaced geometry borders (i.e., two "border"
edges next to one another, forming an apparent single edge). </p><p>4) If necessary, separate the eyes, tongue, and teeth from the
head geometry. Technically, this is only necessary if you want to use
the advanced auto-weighting system, but considering how much time
that's likely to save you, you probably do.
</p><p>5) Model the teeth with an overall width that's proportionate
to the head. It's a common mistake to make them too wide, ignoring the
volume of the cheeks. Take a look at a skull and you'll see that
they're actually quite narrow. And because TFM calculates certain cheek
deformations based on the teeth, it's worth checking to make sure
they're right.
</p><p>6) Model the eyelids closed instead of open. Although TFM can
handle it either way, starting from a closed position is likely to work
better. </p><p>7) If possible, use separate meshes for the face and body. The
rig will be faster if TFM can be applied to just the face, rather than
a whole model.
</p><h3><a name="step_1">Step 1: Add the Face Machine widget.</a></h3>

<p>This one's easy. Find your TFM menu -- it should say "The Face
Machine," and it should show up in any of the Maya menu sets. (If you
can't find it, go back to the <a href="#getting_started">Getting Started</a> section.)

</p><p class="figureTitle">Figure 1.1: The Face Machine Menu
</p><p><img src="manual_files/figure01.gif" alt="The Face Machine menu, with Pre-Rig &gt; Add Face Machine Widget selected."> 

</p><p>The TFM menu will look something like Figure 1.1. Go to the
Pre-Rig sub-menu. Then select "Add Face Machine Widget." This will add
the widget to your scene.
</p><p class="figureTitle">Figure 1.2: The Widget
</p><p><img src="manual_files/figure01_002.gif" alt="The Face Machine widget in an empty scene.">

</p><p>The widget will be at the origin of your scene. (If you don't
see it, make sure Show NURBS Curves is on.) There will also be a new
node called "faceMachine" in the Outliner, but you shouldn't need to do
anything with that. (In fact, you really <i>shouldn't</i> do anything with it, and we mention its presence only for completeness.)


</p><h3><a name="step_2">Step 2: Positioning controls</a></h3>

<p>To begin positioning the widget, grab the big blue circle around the
widget (which you'll find is named Face_Machine_WC), then move and
scale it such that the influence objects approximately fit your face.
</p><p class="figureTitle">Figure 2.1: Positioning The Widget
</p><p><img src="manual_files/figure02_005.gif" alt="Positioning the widget."> 

</p><p>The key word at this stage is "approximately" -- and the caveat is <i>no non-uniform scaling.</i>
Again, experienced TSM users will nod sagely. For those unfamiliar with
this quirk, "non-uniform scaling" means making any of the scale values
-- ScaleX, ScaleY, or ScaleZ -- a different value from the others. Or,
in visual terms, making the circle into an ellipse. For reasons too
complicated to explain here, it is very important that the circle known
as Face_Machine_WC remain a circle, and all its scale values remain
exactly equal to each other.
</p><p>So, once you've used this control to put the influence objects
in the general area of the face, it's time to use some more specific
controls to get a more specific fit. To begin, go to the Pre-Rig
sub-menu of The Face Machine menu, and select "Show Widget Controls
(Level One)."
</p><p class="figureTitle">Figure 2.2: The First Level of Widget Controls
</p><p><img src="manual_files/figure02_002.gif" alt="The first level of widget controls have been displayed.">

</p><p>You will now see a number of controls, most of them blue. All of
these blue controls can be moved, rotated, and scaled -- uniformly <i>or</i>
nonuniformly. The gray controls will automatically mirror the position
of their opposite number. (If your face is asymmetrical, you can turn
this mirroring off. Select one or more controls, then choose "Unmirror
Widgets" from the Pre-Rig menu.) </p><p>Using these controls, you should be able to get a closer fit
between the influence objects and your face. Still, it's not going to
be perfect, so don't obsess over it. Once you've got a reasonably good
fit, it's time to switch to Level Two.
</p><p class="figureTitle">Figure 2.3: The Second Level of Widget Controls
</p><p><img src="manual_files/figure02_003.gif" alt="The second level of widget controls have been displayed.">

</p><p>To display these controls, select "The Face Machine &gt; Pre-Rig
&gt; Show Widget Controls (Level Two)." (You may also want to uncheck
"Show Widget Controls (Level One)," since you probably won't be moving
those at this point.) There are quite a few controls in Level Two, any
of which can be moved, rotated, scaled, etc. For most faces, this will
allow you to get a very close fit between the influence objects and
your face. You should pay particular attention to the eyes and mouth.
These are the most complex areas of the face, both for rigging and
auto-weighting. </p><p>Many of the Level Two controls consist of curves that "float"
a small distance away from their pivot point. This is for ease of
selection. The pivot point represents where the control actually "is,"
and you'll want to pay attention to that as you position the control.
Since many of the Level Two controls are meant to be positioned with
their pivots resting on the surface of the face mesh, in some cases you
may want to use Maya's "snap to points" mode for easy placement. You
can turn it on using the magnet-and-point icon in the status line: </p><p><img src="manual_files/snapicon.gif" alt="Snap to points in the Status Line">


</p><p></p><h4>Fitting the Eyes</h4>

<p>When you're fitting the eyes, you should actually start with the eye
pivots. Since the correct location of this pivot is based on the size
of the eyeball, moving it automatically adjusts the various controls
around the eye. And since it's important to position it at exactly the
correct location, we've provided a convenient way to do that. </p><p class="figureTitle">Figure 2.4: Relocating the Eye Pivots
</p><p><img src="manual_files/figure02.gif" alt="Here the right eyeball has been selected, and we're about to execute the Relocate Eye Pivot &gt; Right Eye Pivot command.">
</p><p>First, select the eyeball -- either the geometry itself, or
whatever node has the correctly centered pivot point. Next, choose the
appropriate command from the Relocate Eye Pivot sub-menu -- either Left
Eye Pivot or Right Eye Pivot. (As always in TFM, this refers to the
character's right and left sides, not screen left/right.) This will
automatically position the appropriate Eye Pivot control at the pivot
point of the selected eye. Then just repeat the process for the other
eye.
</p><p>Next, position the eye controls as follows:

</p><p class="figureTitle">Figure 2.5: L_pupil_WC
</p><p><img src="manual_files/figure02_004.gif" alt="Positioning L_pupil_WC to define the pupil.">
</p><p>This control should be positioned to reflect the position of the
pupil of the left eye. (If your model's eyes are closed, you'll
probably want to hide the face mesh so you can see what you're doing.)
The corresponding control on the right, R_pupil_WC, will automatically
mirror this control. (If necessary, you can turn off mirroring for this
(or any) control. Select either of the pair, then choose The Face
Machine &gt; Pre-Rig &gt; Unmirror Widgets.)
</p><p class="figureTitle">Figure 2.6: L_innerEye_WC and L_outerEye_WC
</p><p><img src="manual_files/figure02_005.jpg" alt="Positioning L_innerEye_WC to define the inner corner of the left eye.">
</p><p>These two controls define the corners of the left eye. The key
is to position each control's pivot point exactly at the corner of the
eye. The control's curve actually "floats" away from this pivot, making
it easier to select. So pay attention to the location of the pivot, not
just the curve. </p><p class="figureTitle">Figure 2.7: L_upperLid_WC and L_lowerLid_WC
</p><p><img src="manual_files/figure02_016.jpg" alt="Positioning L_lowerLid_WC to define the top of the lower eyelid.">

</p><p>These define the edges of the upper and lower eyelids. As
before, you'll want to pay attention to the pivot point. In this case,
you should position L_lowerLid_WC at the top of the lower lid, and
L_upperLid_WC at the bottom of the upper lid. Don't just put these
controls on the front of the lid <i>near</i> their respective edges --
you really want to get each control's pivot on the outermost edge of
the lid. If anything, L_lowerLid_WC should be slightly above the top of
the lower lid, while L_upperLId_WC could be slightly below the lower
lid.
</p><p class="figureTitle">Figure 2.8: L_upperEye_WC and L_lowerEye_WC
</p><p><img src="manual_files/figure02_009.jpg" alt="Positioning L_upperEye_WC to define the top of the upper eyelid.">
</p><p>These two controls are should be positioned at the "base" of the
eyelids. This is a somewhat ambiguous location, but consider how far
you want the eyelids to go when they're all the way open, since that's
what these controls determine. With that in mind, position
L_lowerEye_WC's pivot point at the bottom of the lower lid, and
L_upperEye_WC's pivot point at the top of the upper lid.
</p><p class="figureTitle">Figure 2.9: L_outerOrbital_WC
</p><p><img src="manual_files/figure02_019.jpg" alt="Positioning L_outerOrbital_WC to adjust the surrounding influence objects.">
</p><p>Rather than placing this control to match a specific feature,
you'll need to use it to shape the curves of the influence objects.
Remember, those are the black curves -- the ones that have been
changing shape as you move controls around. When you select
L_outerOrbital_WC, the curves that are influenced by that control will
highlight in purple. Try to position L_outerOrbital_WC so that these
curves fit the shape of your face. Approximation is likely, if not
inevitable. Fortunately, this area doesn't need to be as precisely
defined as the eyelid.
</p><p></p><h4>Fitting the Mouth</h4>

<p class="figureTitle">Figure 2.10: L_mouthCorner_WC
</p><p><img src="manual_files/figure02_015.jpg" alt="L_mouthCorner_WC">

</p><p><b>L_mouthCorner_WC</b> should be positioned with its pivot
point at the left-hand corner of the mouth. However, this is one of the
few controls where you <i>should</i> pay attention to the shape of the
control's curve. In addition to the "tab" of the control that sticks
out, there is an inner "hook." To see it, you may want to switch to
X-Ray shading mode:
</p><p class="figureTitle">Figure 2.11: L_mouthCorner_WC: X-Ray
</p><p><img src="manual_files/figure02_004.jpg" alt="L_mouthCorner_WC: X-Ray">

</p><p>This hook should ideally be rotated and scaled to fit along the
inner edge of the mouth surface, wrapping back with the lips into the
mouth bag. The location of the pivot point is the most important for
basic deformation, but the hook shape affects the rig's ability to curl
the lips accurately and maintain their volume in extreme poses.
</p><p>If your character is symmetrical, a good placement of
L_mouthCorner_WC should result in a correctly-positioned
R_mouthCorner_WC as well. If not, you can select either control and use
the "Unmirror Widgets" command from the Pre-Rig submenu. That will
allow you to position the two corners independently of each other.
</p><p>You may also want to use X-Ray mode to position <b>upperLip_WC</b> and <b>lowerLip_WC</b>:

</p><p class="figureTitle">Figure 2.12: UpperLip_WC and LowerLip_WC: X-Ray
</p><p><img src="manual_files/figure02_007.jpg" alt="UpperLip_WC and LowerLip_WC: X-Ray">

</p><p>UpperLip_WC should be positioned at the bottom of the upper lip,
while lowerLip_WC belongs at the top of the lower lip. Again, as with
the eyelids, take care to place these vertically at the highest/lowest
points on the lips, not simply near the top/bottom of their outer
surface. On most faces, these points will not be visible from outside
the face, and in some cases upperLip_WC may end up below lowerLip_WC
(as seen in Figure 2.12, above). </p><p>In addition to using X-Ray mode to see where things are, you
can use snap-to-points mode to snap these controls directly to the
highest/lowest vertex at the center of the lips.
</p><p class="figureTitle">Figure 2.13: UpperLipCrest_WC and LowerLipCrest_WC
</p><p><img src="manual_files/figure02_006.jpg" alt="UpperLipCrest_WC and LowerLipCrest_WC">

</p><p>You should position upperLipCrest_WC at the top of the top lip,
and lowerLipCrest_WC at the bottom of the bottom lip. Try to find the
points on your lips which stand most "proud" of the face -- that is,
protrude furthest forward. Another useful guideline is to imagine your
character wearing a bright lipstick. The edge of where color would be
applied to the lips is also a likely position at which to place these
controls. </p><p class="figureTitle">Figure 2.14: UnderLip_WC
</p><p><img src="manual_files/figure02_011.jpg" alt="UnderLip_WC">

</p><p>Finally, underLip_WC should be positioned at the divot between
the lower lip and the chin, with the bulk of the control curve resting
on the outward slope of the chin.
</p><p></p><h4>Fitting the Cheeks</h4>

<p class="figureTitle">Figure 2.15: The Cheek Controls
</p><p><img src="manual_files/figure02.jpg" alt="The Cheek Controls">

</p><p>Rather than focusing on the precise positioning of pivot points,
you'll want to keep an eye on the influence objects -- the black curves
that highlight in purple when you select a control that influences
them. You'll use the various cheek controls to shape these curves to
your face.
</p><p><b>L_cheekBone_WC</b> should be approximately on the character's cheekbone, under the eye socket. <b>L_nasalLabial_WC</b>
should be positioned along the nasal-labial fold -- the line running
from the corner of the nose to just outside the corner of the mouth. <b>L_cheekFold_WC</b> also helps define that crease. Finally, <b>L_Cheek_WC</b>
should be positioned on the side of the cheek. This is an area with
much less going on, so don't worry too much about precision. Just keep
an eye on the black influence objects and try to keep them relatively
flush to the surface of your mesh. </p><p></p><h4>Fitting the Jaw</h4>

<p class="figureTitle">Figure 2.16: The Jaw Controls
</p><p><img src="manual_files/figure02_014.jpg" alt="The Jaw Controls">

</p><p>Again, look to the influence objects (the black curves) as you
position the various controls. Note that the jaw influence object
doesn't extend as far as the chin: this is normal, and on many faces
will not make a tight fit with the mesh. Use <b>L_jawAnchor_WC,</b> <b>jawCorner_WC</b> and <b>L_jawLineWC</b> to make the influence object curve follow your character's jawline. <b>Chin_WC</b>
should be used to place the chin influence object on the chracter's
chin. Finally, NeckMask_WC should be used to position the associated
influence object at the intersection of the jaw and the neck. Try to
snug this right up into the corner below the jaw -- if you leave it too
long, you'll probably end up painting out weights on the neck after
rigging. </p><p></p><h4>Fitting the Nose</h4>

<p class="figureTitle">Figure 2.17: The Nose Controls
</p><p><img src="manual_files/figure02_003.jpg" alt="The Nose Controls">

</p><p>Once again, keep an eye on the influence objects as you positiong the controls. <b>Nose_WC</b> goes near the tip of the nose, <b>upperNose_WC</b> at the top, and <b>midNose_WC</b> goes in the middle. <b>L_nostril_WC</b>
fits around the nostril, and, together with its right-hand mirror,
defines the width of the nose. Try to fit the pivot of L_nostril_WC
accurately to the intersection between the nostril and the nasal-labial
fold, and then scale it from there to wrap around the nostril. Defining
this pivot point properly will improve the creasing of your character's
cheeks when smiling and sneering.
</p><p>Finally, <b>underNose_WC</b> is positioned at the point where
the nose meets the upper lip. As with the NeckMask_WC, try to snug this
up right under your nose. Leaving it too low will limit the scope of
deformation your upper lip is capable of. </p><p></p><h4>Fitting the Brow</h4>
    
<p class="figureTitle">Figure 2.18: The Brow Controls
</p><p><img src="manual_files/figure02_017.jpg" alt="The Brow Controls">

</p><p>For the brow, the uppermost influence object should be positioned about half-way up the forehead. Use <b>foreHead_WC</b> and <b>L_foreHead_WC</b> to do this, and to shape the influence objects to the fit the curve of forehead. <b>L_brow_WC</b>
should be positioned over the left eyebrow. You can also scale it in
both width and depth to adjust the curvature of the brow influence
objects. Finally, <b>brow_WC</b> should be positioned between the eyebrows.


</p><p></p><h4>Fitting the Teeth and Tongue</h4>

<p class="figureTitle">Figure 2.19: The Teeth and Tongue Controls
</p><p><img src="manual_files/figure02_008.jpg" alt="The Teeth and Tongue Controls">

</p><p>It's easy to neglect this step. Out of sight, out of mind, and
these controls are inside the character's head. But it's important --
even if your character doesn't have teeth or a tongue. TFM uses the
teeth control to help determine how the mouth and cheeks deform. </p><p>So hide your outer geometry, or switch to wireframe, and fit <b>Teeth_WC</b>
to your character's teeth. If your character doesn't have teeth, fit
the control to where the teeth would be. Make sure the control is
narrow enough. The lips will "slide" along an area determined by the
Teeth_WC when they're pulled back (in a smile, for example). So for
maximum realism, you want the teeth to be realistically proportioned --
which probably means "narrower than you think," if you don't look at a
skull for reference.
</p><p>Next, fit the <b>mouthBag_WC</b> control to the mouth bag --
assuming you have a mouth bag. (If not, just make sure that the control
is completely inside the head.) Note that the control is shaped like a
(somewhat deformed) half-sphere: you should adjust it to fit around the
<i>back half</i> of the mouthbag. The fit doesn't need to be precise; just make it about the right size, and <i>don't</i> scale it up to fit the whole mouthbag. It only needs to cover the back half.

</p><p>Finally, fit <b>tongue_WC</b> to your tongue geometry, if any.
(If your character doesn't have a tongue, you can leave this one
alone.) Unlike the rest of the face, the tongue uses joints for its
influence objects. You should use "Show Mouth Influences" in the TFM
&gt; Pre-Rig menu to display the tongue joints:
</p><p class="figureTitle">Figure 2.19b: The Tongue Joints
</p><p><img src="manual_files/figure02_013.jpg" alt="The Tongue Joints">

</p><p>Move and scale tongue_WC to position the tongue joints through the center of your tongue. The first joint, <b>tongue1_JT,</b> should be positioned where you want the rotate pivot for the base of your tongue.

</p><h3>Tweaking the Influence Objects</h3>

<p>For most faces, you'll never need to modify the influence objects.
You move the widget controls; the widget controls move the influence
objects. However, at some point, you may find that the widget controls
don't give you enough control to get those influence objects to fit. In
that case, you can modify the influence objects directly. Choose "Make
Influence Objects Selectable" in the TFM &gt; Pre-Rig menu. This will
allow you to select the influence objects, at which point you can
switch to Component Mode and modify the curves as necessary. Note that
TFM's mirroring system does NOT mirror component-level tweaks; you'll
need to do that yourself. </p><h3>Positioning The Animation Controls</h3>

<p>Although they're currently hidden, you've actually already
positioned the animation controls, via the widget controls. You can see
where they're currently by choosing "Show Face Control Placement" from
the TFM &gt; Pre-Rig menu. In most cases, the default locations will be
fine, but if it seems like a control might going to be difficult to see
or select, you can reposition it now. You can also adjust the position
of the controls after rigging, so you don't necessarily need to worry
about them at this stage. </p><p>There is, however, one control that you <i>do</i> need to pay attention to in the pre-rig stage:

</p><p class="figureTitle">Figure 2.20: Jaw_PW
</p><p><img src="manual_files/figure02_020.jpg" alt="Jaw_PW">

</p><p>The location of <b>jaw_PW</b> will actually determine the pivot
point of your character's jaw, impacting the deformation of the lower
half of the face. So try to get it in about the place you want it now
-- usually just slightly in front of and below the earlobes on a human
face.
</p><h3>Adjusting Skulls</h3>

<p>In the process of fitting TFM's influence objects to fit your face, you've also been fitting TFM's <i>skulls.</i>
These hidden objects will be used to determine how the animation
controls deform your face. In most cases, you'll never need to worry
about them. However, if you go through and rig your face, and then find
that your controls aren't sliding the way they should, you can come
back to this section. For now, you should go on to <a href="#defining_face_objects">Step 3: Defining Face Objects.</a>

</p><p>So, if you're reading this, you've already gone ahead and rigged
your face, and you aren't happy with the way the controls are working.
The first thing to do is to go back to the pre-rigged version you
saved. Now you can unhide the skull(s) you want to modify from the TSM
&gt; Pre-Rig menu. Since the skulls are inside your character's head,
you may want to put your geometry in a display layer and template it.
Then you can adjust any of the various skulls by moving, scaling, or
rotating them.
</p><p>Note that the skulls are actually implicit spheres, with
geometry that extends beyond the apparent "edge." The visible portion
of the skull is simply the area that's most likely to be relevant, not
the only area in which controls can be moved.
</p><p class="figureTitle">Figure 2.21: UpperSkull1_WC and UpperSkull2_WC
</p><p><img src="manual_files/figure02_012.jpg" alt="UpperSkull1_WC and UpperSkull2_WC">

</p><p>These two skulls can be displayed by selecting "Show Forehead
and Nose Skulls" in the TFM &gt; Pre-Rig menu. They operate as a pair,
and do not move relative to one another after rigging. They approximate
the relevant parts of the character's literal skull. </p><p><b>UpperSkull1_WC</b> should be easy to position -- it only
needs to guide the movement of the brow controls, so try to fit it
evenly under the forehead of your mesh, with the most care taken to
positioning the centerline of the skull. The upper/outer corners are
less important, as no sliding controls are likely to travel there. The
slight inward curve of the skull object at the bottom should slide
roughly down behind the eyeballs, approximating the inward slope under
a human's super-orbital ridge. This helps define frowning poses,
because when the brow is lowered, it pulls the volume of the brow
slightly inward. </p><p><b>UpperSkull2_WC</b> is used for the sliding of the nose and
upper lip. The most important area to pay attention to here is the
upper lip -- make sure that upperSkull2_WC is set far enough back and
slopes inward enough to make the lips pull outward when they are raised
and suck inwards when they are lowered. This skull only needs to be
slightly curved, as none of the upper lip controls should need to move
very far around the curvature of the cheek to the left or right. </p><p class="figureTitle">Figure 2.22: CheekSkull_WC
</p><p><img src="manual_files/figure02_002.jpg" alt="CheekSkull_WC">

</p><p><b>CheekSkull_WC</b> is displayed by selecting "Show Cheek and
Upper Lip Skull" in the TFM &gt; Pre-Rig menu. It is directly defined
by teeth_WC, and so has a very close relationship to the shape of that
control. This is why we suggest taking extra care to shape teeth_WC
even if your character was modeled without teeth. The corners of the
mouth slide along cheekSkull_WC, so it's important to keep it narrow
enough and also large enough. If it's too wide, then dimples on the
face might actually be
inverse-dimples, with the "dimple" parts of the face geometry sticking
out. If it's too narrow, then the dimples may be too exaggerated. </p><p>It's also important that cheekSkull_WC have enough surface
area, since the mouth corners can can end up travelling quite a bit,
especially when the jaw is opened wide. We suggest extending
cheekSkull_WC all the way back to the ears of your character, and
vertically up to the middle of the nose and down to the chin, with the
furthest forward point of the curve lining up right at where the teeth
would meet. </p><p class="figureTitle">Figure 2.23: jawSkull_WC
</p><p><img src="manual_files/figure02_010.jpg" alt="jawSkull_WC">

</p><p><b>JawSkull_WC</b> is displayed by selecting "Show Lower Lip
Skull" from the TFM &gt; Pre-Rig menu. Like upperSkull2_WC for the
upper lip, jawSkull_WC will control how lower lip slides. As such, it
does not need to curve very far to either side. Just try to keep it
angled down and inwards so that the lower lip will pull back slightly
when it is lowered. </p><p class="figureTitle">Figure 2.24: L_eyeShape_WC and R_eyeShape_WC
</p><p><img src="manual_files/figure02_018.jpg" alt="L_eyeShape_WC and R_eyeShape_WC">

</p><p><b>L_eyeShape_WC</b> and <b>R_eyeShape_WC</b> can be displayed
by selecting "Show Eye Shapes" in the TSM &gt; Pre-Rig menu. These
widget controls are actually "skulls" too -- your eyelid controls will
slide along these objects, just as your cheek controls will slide along
the jawSkull_WC. If your eyes are spherical, the eyeShape controls
should already be in the right place, as their position and scale are
determined with a good deal of precision by the various Level 2 eye
widget controls you placed earlier. But if your character has
non-spherical eyes, you'll need to squash and rotate these controls to
make them fit the curvature of the front of your eyeballs. Don't be
afraid to scale them way up in 2 axes if your character has very flat,
cartoony eyes. Just try to get the forward facing surface of
L_eyeShape_WC to match the surface of your eyeball as closely as
possible. As with the other left/right WCs, R_eyeShape_WC will mirror
your adjustments to L_eyeShape_WC. </p><p>Once you've made whatever adjustments you need to make to the
skulls, you can save your file and try rigging again. Hopefully that
will solve the problem, but if not, you can revert and do another round
of adjustments. Once you're happy with the results, you can go on to <a href="#step_6">Step 6: Weight Painting.</a>


</p><h3><a name="step_3">Step 3: Defining Face Objects</a></h3>

<p>This is a simple but necessary step -- telling TFM what geometry
it's going to be rigging. Remember, your head can be part of the same
mesh as your body, but if you want TFM's advanced auto-weighting system
to weight the eyes, teeth, and tongue, those will all need to be
separate objects.
</p><p>To begin, select the mesh or meshes that make up your face, and
make the following menu selections: The Face Machine &gt; Pre-Rig &gt;
Define Face Objects. This is a sub-menu, which you may want to tear off
(by clicking the bar at the top of the sub-menu) for quicker access.
Either way, with the face mesh(s) still selected, choose "Define Face
Mesh(s)" from the Define Face Objects sub-menu. The Face Machine will
make a "mental note" of your selection -- if you look at the Outliner,
you'll see it's in a set called "fmFaceMeshesObject." (Needless to say,
don't delete this set.)
</p><p>In addition to rigging the face itself, TFM can rig your
character's eyeballs, teeth, and tongue, if it has any or all of those
things. To let TFM know that it does, select the appropriate part, then
choose the equivalent part in the "Define Face Objects" sub-menu. (As
always, "left" and "right" are from the character's perspective, not
screen left and screen right.) If any of your parts are already rigged
to move with the head in some way, then you should also choose the
appropriate "X is Part of Existing Rig" option in the Pre-Rig submenu.
For example, if the eyeballs are parented to the head joint, you should
select "Eyes Are Part of Exising Rig." This will prevent TFM from
causing trouble for you by trying to do things that your own rig is
already doing.
</p><p>Note that TFM will be <i>rotating</i> the objects you define as
the eyes. This is, of course, the desired effect for spherical eyes.
But if you've got flattened cartoony eyes, it's not going to work very
well. In this case, instead of defining your geometry as your "eye
object," consider using a 3D placement node for your eye texture, and
parenting it to a null with an appropriate pivot point. This null can
then be defined as your eye object. When it's rotated, the texture
placement node will reposition the texture, creating the illusion that
the eye is rotating.
</p><p>Another common scenario is that your body rig ends up deforming
your eyes -- scaling them along with the head, when you're doing some
squash-and-stretch, for example. If TFM then <i>rotates</i> your eyes,
it's likely to look a bit odd. In this case, you may want to create
clusters for your eyes, and define these as your "eye objects." By
putting these clusters <i>before</i> your body rig's skinCluster in the deformation order, the rotation will take effect first, before the scale.

</p><p>Last but not least, you should select the head joint of your
character's skeleton, and choose "Define Head Joint" from the Define
Face Objects sub-menu. (If you're adding the Face Machine to a TSM rig,
the correct head joint is Head_joint3.) TFM will connect the face
controls to this joint, so that they move with your character's head.
If for some reason you don't have a head joint -- if you're rigging
your head before your body, for example -- TFM will create a head joint
for you. You can later parent this joint to a body skeleton.
</p><h3><a name="step_4">Step 4: SAVE YOUR FILE!</a></h3>

<p>Okay, you already know how to do this. So maybe we don't need an
entire step devoted to it... but really, we can't emphasize this
enough. <i>Save your file,</i> because TFM's "rig" command is not
undoable. So if you rig your file and don't like the results, and you
decide you want to reposition some things and try again... you better
hope you saved your file.
</p><h3><a name="step_5">Step 5: Rigging and Testing.</a></h3>

<p><a name="step_5">Now it's time to actually rig your face -- or more
precisely, to tell TFM to rig it for you. At the very bottom of the
Pre-Rig menu, you'll find "Rig the Face Machine!" Don't click it yet.
Why? Because first you have to memorize the next step. </a></p><p><a name="step_5">The next step is <i>do nothing.</i>
Seriously. Well, you can watch the progress bar if you like. Just don't
flip back to this manual, or check your e-mail, or do anything at all
that would "distract" Maya -- i.e., make its window lose focus. If you
forget, things are likely to go kerflooie, and then you'll have to go
back to that pre-rigged version you saved. (You did save your file,
right?). My boss would like me to mention that this is Not Our Fault,
since it's the result of an internal Maya quirk, not a bug in TFM.
</a></p><p><a name="step_5">Anyway, if you let TFM do it's thing, you'll get something similar to this:


</a></p><p class="figureTitle"><a name="step_5">Figure 5.01: TFM-Rigged Character
</a></p><p><a name="step_5"><img src="manual_files/figure05_002.jpg" alt="TFM-Rigged Character">

</a></p><p><a name="step_5">The panel on the left is the Anzovin Panel,
which we'll cover in a later section. The panel on the right is the
rigged character, with the primary controls visible. Once you've gotten
to this point, you should save your file, ideally with a different
filename. That way you'll still have the pre-rigged version handy, just
in case.
</a></p><p><a name="step_5">Now it's time to test the rig and
auto-weighting. Start moving those controls! (If you'd like a more
in-depth explanation of the controls first, you can jump ahead to </a><a href="#the_tfm_controls">The TFM Controls</a> section.)

</p><p class="figureTitle">Figure 5.02: Auto-weighting Results
</p><p><img src="manual_files/figure05.jpg" alt="Auto-weighting Results">

</p><p>And here's what we get with out test character. Note the
correctly separated eyelids, lips, and teeth. Hopefully your character
is equally cooperative. If your auto-weighting results <i>aren't</i> as good, you may want to backtrack and take a look at the advice in <a href="#modelling_for_rigging">Modelling for Rigging.</a>
Also, note that non-human or otherwise disproportionate characters may
simply break the auto-weighting, regardless of your modelling
technique. </p><p>Of course, even when the auto-weighting works well, you'll probably need to do at least a little bit of the following...

</p><h3><a name="step_6">Step 6: Weight painting</a></h3>

<p>Because TFM uses a custom skin cluster, you can't use the Paint Skin
Weights Tool from the Skin menu. Instead, select your mesh and choose
"Paint Weights for Face Machine" from the TFM menu. This will bring up
a familiar-looking window:
</p><p class="figureTitle">Figure 6.01: Paint Weights for Face Machine tool settings
</p><p><img src="manual_files/figure06_002.jpg" alt="Paint Weights for Face Machine tool settings"> 

</p><p>It looks like the standard Paint Weights tool, and it works like
the standard Paint Weights tool. However, it only works for TFM -- you
won't be able to paint weights on the body. Instead, any points
controlled by the body's skin cluster (including the back of the head)
should be weighted to fm_null_influence. They can then be weighted to
joints in your skeleton as usual, using the standard Paint Weights
tool.
</p><p>We've also made a custom Component Editor for TFM weights. You
can open it by selecting Anzovin Component Editor from the TFM menu: </p><p class="figureTitle">Figure 6.02: The Anzovin Component Editor
</p><p><img src="manual_files/figure06.jpg" alt="The Anzovin Component Editor"> 

</p><p>Unfortunately, this is not a direct clone of the standard
Component Editor. We tried, but Maya was less than cooperative. So, to
use the our Component Editor, you'll need to select one or more cells,
and then enter the new value in the "New Value" field. Also, if you're
using Maya 8.0, you'll need to use the <b>numeric enter key</b> to enter the new value. We know, it sucks. It's a Maya bug, and fortunately they did fix it in later versions.

</p><p>Speaking of Maya bugs, if you're using a Mac, it may <i>appear</i>
that you can enter values directly in the Component Editor cells. You
can't. You'll still need to select cells and use the New Value field to
change them.
</p><p>In Maya 7.0, there is no Anzovin Component Editor. Sorry, but there's really nothing we can do. 

</p><p>Last but not least, we've made some changes to the way
normalization of weights is handled. (Again, this is only for TFM
weights, not for all Maya weights.) We think they're improvements, but
we thought we should mention them so you know what's going on:
</p><p>If you remove all weights from the unheld influences of a
vertex, TFM will attempt to fill in with the face's original default
weighting, rather than every single unheld weight. If this is
impossible, the weights will not be removed. </p><p>If you change the weights such that their total is over 1, and
there are no unheld weights to reduce, then the weights you set will be
reduced.
</p><p>If you do anything else that would make it impossible to
normalize the weights, whatever you attempted to do will fail, and the
weights won't be affected -- rather than changing the weights in
unpredictable ways.
</p><p>In any case where you try to do one thing and TFM has to do
something else, a warning message will be printed, explaining what went
wrong and how the weights have actually been adjusted.
</p><h2><a name="the_tfm_controls">The TFM Controls</a></h2>

<p>The initial set of controls that are visible in a TFM-rigged character are the <b>primary controls.</b> At this level, most of the controls are circles with a key shape within them, like so:

</p><p class="figureTitle">Figure 7.01: Face Controls
</p><p><img src="manual_files/figure07_013.jpg" alt="Face Controls">

</p><p>Each circle is a normal <b>face control.</b> When you move it,
it will move intelligently, following the natural curvature of the face
(as determined by TFM's skull objects). The key-shaped <b>direct face control</b>
will move with the face control. You can also move the direct face
control freely -- it isn't constrained by the face's curvature.
</p><p>For example, if we take the face control selected in Figure 7.01, and translate it screen right:

</p><p class="figureTitle">Figure 7.02: Moving a Face Control
</p><p><img src="manual_files/figure07_026.jpg" alt="Moving a Face Control">

</p><p>The control slides <i>back</i> as well as right, conforming to
the shape of the face. All of the primary face controls will behave
this way, allowing you to create poses quickly and easily, without
worrying about accidentally distorting the face in an unnatural way. </p><p>Of course, there are expressions where parts of the face naturally move "in" or "out" -- or maybe you just <i>want</i> to distort the face in an unnatural way. In those cases, you can grab the direct control, and move it wherever you'd like:

</p><p class="figureTitle">Figure 7.03: Moving a Direct Face Control
</p><p><img src="manual_files/figure07_014.jpg" alt="Moving a Direct Face Control">

</p><p>You'll also see some circle controls without associated
key-shaped controls, and once we turn on the secondary controls, you'll
see key-shaped controls without circle controls. However, the same
convention applies: Circle controls slide along skulls, deforming the
face in an intelligent way, while key-shaped controls are direct
controls, which you can manipulate freely.
</p><p>There are also a few controls that don't fit into either of these categories:

</p><p class="figureTitle">Figure 7.04: Jaw and Eye Controls
</p><p><img src="manual_files/figure07_024.jpg" alt="Jaw and Eye Controls">

</p><p>The arrows in front of the eyes are the FK eye controls, <b>R_eye_FC</b> and <b>L_eye_FC</b>.
They can be rotated to rotate the eyes. Each control also has an
additional attribute, Lid Follow, which can be found in the Channel
Box:
</p><p class="figureTitle">Figure 7.05: L_eye_FC's Lid Follow Attribute
</p><p><img src="manual_files/figure07_010.jpg" alt="L_eye_FC's Lid Follow Attribute">

</p><p>Lid Follow can be set from 0 to 1. At zero, it has no effect --
the eyelids are not affected by the eye's rotation. At one, the lids
follow the eyes exactly. Values in between result in a blend between
the two. It's a relatively subtle effect, but it can add realism to
your character's eye movements.
</p><p>Of course, TFM also includes an IK control for the eyes, <b>IK_eye_FC.</b>
It's hidden by default, but you can display it by choosing Show IK Eye
Control in the TFM menu. You can also select IK_eye_FC in the TFM Maps
tab of Anzovin Panel (we'll come back to thiss tab shortly):
</p><p class="figureTitle">Figure 7.06: The IK Eye Control Selector
</p><p><img src="manual_files/figure07_027.jpg" alt="The IK Eye Control Selector">

</p><p>Since the eyes are set to FK by default, you'll need to use IK_eye_FC's <b>Follow</b>
attribute, which you'll see in the Channel Box when you have the
control selected. If you set it to one, then move IK_eye_FC, you'll see
that the FK controls (and therefore the eyes) rotate to point at it:
</p><p class="figureTitle">Figure 7.07: Using the IK Eye Control
</p><p><img src="manual_files/figure07.jpg" alt="Using the IK Eye Control">

</p><p>Of course, you can keyframe the Follow attribute, allowing you to switch between FK and IK eyes during an animation.

</p><p>The other "special case" control is <b>jaw_FC,</b> the jaw control. You can move and rotate this control to move the jaw, and the lips will react accordingly:

</p><p class="figureTitle">Figure 7.08: Using the Jaw Control
</p><p><img src="manual_files/figure07_003.jpg" alt="Using the Jaw Control">

</p><p>Alternately, by turning on jaw_FC's <b>Lip Follow</b> attribute, the lips will move with the jaw, remaining closed:

</p><p class="figureTitle">Figure 7.09: Using Lip Follow</p>
<p><img src="manual_files/figure07_017.jpg" alt="Using Lip Follow">

</p><h3><a name="secondary_controls">The Secondary Controls</a></h3>

<p>In addition to the primary controls that are visible by default, TFM includes a second level of controls. These <b>secondary controls</b>
include controls for areas that are less commonly manipulated (e.g.,
the teeth and tongue), as well as more detailed controls for areas
already covered by the primary controls, (e.g. the additional eye
controls.)
</p><p>You can display the secondary controls by choosing "Show
Secondary Controls" from the TFM menu. A number of additional controls
will appear:
</p><p class="figureTitle">Figure 7.10: The Secondary Controls
</p><p><img src="manual_files/figure07_009.jpg" alt="The Secondary Controls">

</p><p>Note that the secondary controls are gold, while the primary
controls are maroon. Also, note most of the secondary controls are
key-shaped direct controls. The can be repositioned to any location,
rather than sliding along the surface of the face.
</p><h3><a name="tfm_maps">TFM Maps</a></h3>



<p>As we've already seen, the TFM Maps tab in the Anzovin Panel allows
you to select TFM controls. If you don't currently have the Anzovin
Panel visible, you can switch to it in any panel:
</p><p class="figureTitle">Figure 7.11: Switching to the Anzovin Panel
</p><p><img src="manual_files/figure07_025.jpg" alt="Switching to the Anzovin Panel">

</p><p>Example screenshots aside, we do recommend that you first switch
to a multi-panel layout, rather than switching your only view to the
Anzovin Panel. It's primarily useful in conjunction with a normal view.
</p><p>Once you've got the Anzovin Panel open, TFM Maps should be easy to find:

</p><p class="figureTitle">Figure 7.12: TFM Maps
</p><p><img src="manual_files/figure07_011.jpg" alt="TFM Maps">

</p><p>TFM Maps provides a convenient way to select any of the TFM controls. Each face control is represented in TFM maps by a <b>selector</b>,
which is positioned in the equivalent location on a stylized face.
Selectors that can't be sensibly positioned on the face (e.g., the
teeth) can be found in a column to the right. Small selectors above or
below a larger selector represent pairs of sliding controls and direct
controls, with the smaller selector representing the direct control. </p><p>As with the controls themselves, the primary selectors are
maroon, and the secondary selectors are gold. If a control is selected,
its selector will turn green. The maroon checkbox turns the visibility
of the primary controls off and on, while the gold checkbox does the
same for the secondary controls.
</p><p>The TFM Map interface is built in an ordinary Maya orthographic
viewport, so you can use all the navigation tools you're already
familiar with to pan and zoom around the map.
</p><h3><a name="box_controls">Box Controls</a></h3>

<p>A <b>box control</b> is high-level control, which can be used to
manipulate multiple controls in various ways. Unlike the face controls,
box controls take a bit of preparation before you can use them,
although we've tried to set it up to be as quick and painless as
possible. And if you need to animate quickly, you'll probably find that
investing some time to set up box controls is well worth it.
</p><p>To help you get started, we've set up a "skeleton" box control
set-up. You'll find it in the TFM Box Controls tab in the Anzovin
Panel. (As always, if you've misplaced the Anzovin Panel, you can find
it in the "Panels &gt; Panel" menu of any panel.) Just like the TFM map
window, this is an orthographic Maya viewport, and you can pan and zoom
around it using the normal Maya navigation tools.
</p><p class="figureTitle">Figure 7.13: TFM Box Controls
</p><p><img src="manual_files/figure07_028.jpg" alt="TFM Controls">

</p><p>Note that none of these controls do anything yet -- they're just
here to provide a framework for you to use. If the layout doesn't suit
you, you can move them around. If you want a completely different set
of controls, you can delete these and create your own. But for now,
let's use one of these as an example.
</p><h4>Defining a Box Control</h4>

<p>Each box control is a two-dimensional slider, with possible values
from -1.0 to +1.0 on both the X and Y axis. Zero, at the center, is
neutral, while each axis in each direction can be defined as a
different pose. These poses are then blended together when the box
control is moved. Typically, the poses are defined such that the two
axes have different effects on the same set of controls, allowing for
effective combination.
</p><p>For example, let's set up a box control for the left eyebrow.
The Y axis will raise and lower the eyebrow, while the X axis will tilt
it.
</p><p>We'll start by using the brow controls to lower the left
eyebrow to the bottom of its normal range. Then we select all of the
controls we used, followed by Left Eyebrow box control: </p><p class="figureTitle">Figure 7.14: Selection Order
</p><p><img src="manual_files/figure07_019.jpg" alt="Selection Order">

</p><p>Next, go to the TFM menu and choose "Define Box Pose &gt; Y axis &gt; -1.0:"

</p><p class="figureTitle">Figure 7.15: Box Pose Definition
</p><p><img src="manual_files/figure07_021.jpg" alt="Box Pose Definition">

</p><p>Since we're using the Y axis to raise and lower the eyebrow, it
makes sense for the eyebrow to be lowered at -1. That way, moving the
control down will move the eyebrow down, which is a bit more intuitive
than the opposite.
</p><p>When you define the box pose, you'll notice that the face
controls don't move, but the box control jumps to value you just
defined:
</p><p><img src="manual_files/figure07_020.jpg" alt="Box Pose Definition">

</p><p>And when you move the box control back to zero, the face
controls return to their default location as well. (You can quickly
reset the box control by selecting it and entering "0" for its
TranslateY attribute in the Channel Editor.)
</p><p>Repeat these steps to define Y = 1.0 as a raised eyebrow:
Create the pose, select the face controls, select the box control, and
choose "Define Box Pose &gt; Y axis &gt; 1.0". Next, put the box
control back to zero, and create an "angry" eyebrow pose for X = -1.0,
and a "worried" eyebrow pose for X = 1.0.:
</p><p class="figureTitle">Figure 7.16: Poses for the Box Control's X Axis
</p><p><img src="manual_files/figure07_007.jpg" alt="Poses for the Box Control's X Axis">

</p><p>Now you can grab the box control and just slide it around to create a range of expressions:

</p><p class="figureTitle">Figure 7.17: X = -1.0, Y = 1.0
</p><p><img src="manual_files/figure07_023.jpg" alt="X = -1.0, Y = 1.0">

</p><h4>Undefining a Box Control</h4>

<p>If you define a pose for a box control and then change your mind,
you can remove it by using the "Undefine Box Pose" sub-menu. Here you
can undefine any of the poses for the selected control. Note that if
you just need to change the position of certain control(s) in a box
pose, you can do that by repositioning them, then following the steps
to <i>define</i> a box control. Their current positions will overwrite their previous ones for the pose. You only need to <i>undefine</i> a pose if you need to completely remove controls from a pose.

</p><h4>Box Control Overdrive</h4>

<p>You've probably noticed that the Define Box Pose menu also allows
you to define poses for -1.5 and +1.5 for each axis. These "overdrive"
values correspond to the second box of the box control:
</p><p class="figureTitle">Figure 7.18: Normal Range and Overdrive
</p><p><img src="manual_files/figure07_015.jpg" alt="Normal Range and Overdrive">

</p><p>This extended range allows you to define more extreme poses for
your control. You don't need to use it -- in fact, you can create box
controls without this additional range, if you'd prefer -- but it can
come in handy. If you're not sure if you'll need it, or how far you'll
need to be able to push any given control, you can also leave it
undefined until you need to use it.
</p><h4>Moving the Box Controls</h4>

<p>To rearrange the box controls, choose "Reposition Box Controls" in
the TFM menu. You can then select the box controls and translate them
freely. You can also scale them up for better visibility -- or down, to
fit more controls in the panel. When you're done, select "Reposition
Box Controls" again to uncheck it. </p><h4>Creating A Box Control</h4>

<p>To create a new box control, choose "Create Box Control" from the TFM menu. This will bring up an options window:

</p><p class="figureTitle">Figure 7.19: Create Box Control Options
</p><p><img src="manual_files/figure07_002.jpg" alt="Create Box Control Options">

</p><p>Most of these options should be self-explanatory. "Label" needs
to be a unique name within the set of box controls. If you want a
simple slider, rather than a box, you can disable the X or Y axis. You
can set either axis to be limited to positive or negative values --
like the sneer control in the default layout, which is limited to
positive values for the Y axis. Finally, checking "extreme" will
provide the "overdrive" range of +1.5 to -1.5.
</p><p>Once you've made your selections, click "Create" to add the box
control. It will appear in the center of the TFM Box Controls panel,
ready to be positioned. When you're done, uncheck "Reposition Box
Controls" in the TFM menu to switch the box controls back to their
normal mode. </p><h4>Deleting A Box Control</h4>

<p>To delete a box control, select it and choose "Delete Box Control"
from the TFM menu. You can also select multiple controls to delete them
all at once.
</p><h4>Animating with Box Controls</h4>

<p>To animate using box controls, all you need to do is move them and
key them. Note that rather than affecting the face controls directly,
the box controls move <i>buffer objects</i>, hidden parents of each
face control. This allows you to animate the box controls and the face
controls independently of each other -- just don't lose track of what's
moving what!
</p><p>When using the box controls, you may find it helpful to switch
to FM_boxControlsPerspCam, a special camera that overlays the box
controls onto your view. To switch to it, select it in the "Panels &gt;
Perspective" menu of any panel:
</p><p class="figureTitle">Figure 7.20: Switching to FM_boxControlsPerspCam
</p><p><img src="manual_files/figure07_012.jpg" alt="Switching to FM_boxControlsPerspCam">

</p><p>You'll see your box controls overlaid on your character's face:

</p><p class="figureTitle">Figure 7.21: The View from FM_boxControlsPerspCam
</p><p><img src="manual_files/figure07_006.jpg" alt="The View from FM_boxControlsPerspCam">

</p><p>You can change the angle of this view as usual, and the box
control overlay will remain in place. You can also use the "plus" in
the upper-left corner to select and reposition the entire set of box
controls.
</p><p>You may have noticed that you can sometimes see, in the regular
persp view, a tiny version of the box controls. This feature is why. If
you're not using FM_boxControlsPerspCam, you can hide the box controls
in the regular view. Simply select "Show Box Controls in Scene" in the
TFM menu to uncheck it.
</p><h2><a name="poses">Poses</a></h2>

<p>Since facial animation often involves re-using poses, we decided
that there ought to be an easier way to do that. The resulting pose
system is accessible via the lower half of the Anzovin Panel:
</p><p class="figureTitle">Figure 7.22: The Pose Panel
</p><p><img src="manual_files/figure07_022.jpg" alt="The Pose Panel">

</p><p>The panel on the left will display pose directories (by default,
it displays your current project's directory), and the panel on the
right will display preview icons for your poses.
</p><h3>Pose Directories</h3>

<p>Before you start making poses, you should set your pose directories.
Go to the "Poses menu and select "Set Local and Global pose
directories." This will bring up a dialog window:
</p><p class="figureTitle">Figure 7.23: Setting the Pose Directories
</p><p><img src="manual_files/figure07_008.jpg" alt="Setting the Pose Directories">

</p><p>You can set these two directories to whatever you want, and
you'll be able to quickly select them later when creating or using
poses. Note that the names "local" and "global" are for your
convenience -- TFM doesn't treat them differently. Personally, we use
"local" for temporary "working files," and set it to C:/Temp, while
"global" is for saved poses, and is set to a sub-folder of the current
project. But you're free to set them up however you'd like. Note that
these are saved in the project workspace mel associated with each Maya
project, so you can have a different set of global and local
directories for each project if you like.
</p><p>You can also add additional pose directories using the "Add
pose directory" function in the Poses menu. These directories will be
accessible in the left-hand panel along with your global and local
directories.
</p><h3>Creating a Pose</h3>

<p>To create a pose, you first need to, well, create a pose. Next, select all of the relevant face controls:

</p><p class="figureTitle">Figure 7.24: Selecting Controls
</p><p><img src="manual_files/figure07_016.jpg" alt="Selecting Controls">

</p><p>With the controls selected, choose "Create New Pose" from the Poses menu in the Anzovin Panel. This will bring up dialog window:

</p><p class="figureTitle">Figure 7.25: New Pose Dialog
</p><p><img src="manual_files/figure07_004.jpg" alt="New Pose Dialog">

</p><p>Here you can adjust the view that will be used to create the
preview icon for your pose. You can also remove controls from the pose,
or select additional controls (in the regular) and add them. Finally,
you can choose your pose's name and directory, and save it.
</p><p>Your pose's preview icon will appear in the directory you saved it to:

</p><p class="figureTitle">Figure 7.26: Pose Icon!
</p><p><img src="manual_files/figure07_018.jpg" alt="Pose Icon!">

</p><h3>Applying a Pose</h3>

<p>Once you've created a pose, applying it to your character is as easy
as clicking its icon. By default, the pose will be applied to the
relevant controls, and then the controls will be keyframed. You set it
to <i>not</i> keyframe, if you'd prefer, by selecting "Clicking pose
applies it" in the Poses menu. You can also apply the pose in different
ways by using its context menu:
</p><h3>The Pose Context Menu</h3>

<p>To bring up this menu, right-click and hold on any pose preview icon:

</p><p class="figureTitle">Figure 7.27: The Pose Context Menu
</p><p><img src="manual_files/figure07_005.jpg" alt="The Pose Context Menu">

</p><p>As you can see, you can use this menu to apply the pose with or
without keyframing, or with mirroring. You can select the controls that
will be affected by applying the pose. And, of course, you can rename,
delete, move, or copy the pose.
</p><p>One thing you can't do with the pose context menu is rearrange
pose icons. For that, you'll need to use the middle mouse button --
just click and drag.
</p><h2><a name="multiple_characters">Multiple Characters</a></h2>

<p>You now know everything there is to know about using TFM to rig and
animate a character's face. But maybe you need to animate a scene with <i>two</i> characters. If so, there are some things you need to know: 

</p><p>First, you can't rig two characters in the same scene file. Rig
each character in its own, separate file, and reference them both into
a third scene. (You can also import them, if you have to.) </p><p>Second, you can't reference two instances of the same file. If
you need to use two copies of a character, you're going to have to
literally copy it. Two files with the same character will reference in
just fine.
</p><p>Last but not least, you need to know is how to switch between
characters. This doesn't matter if you're just animating using the
controls on the face, but if you want to use any of the extra
functionality in the Anzovin Panel, you'll need to pick which character
to work with. The easiest way to do this is to use the drop-down
Character menu at the top of the Anzovin Panel:
</p><p class="figureTitle">Figure 8.01: Changing Characters
</p><p><img src="manual_files/figure08.jpg" alt="Changing Characters">

</p><p>This will allow you to pick from all of the TFM-rigged characters in the scene. The names are the namespaces of your references.

</p><p>Once you've used the Character menu to select one of your
characters, you can proceed as usual. You can also transfer poses
between characters, although we don't guarantee good results if the
proportions don't match. </p><h2><a name="disabling_tfm">Disabling the Face Machine</a></h2>

<p>We've optimized TFM as much as possible, but depending on your
hardware and the complexity of your TFM-rigged geometry, you may notice
it slowing things down, especially when there are multiple TFM
characters in a scene. If you're not currently animating your face(s),
you can speed things back up by disabling The Face Machine. Simply
select "Enable The Face Machine" in the menu to uncheck it for the
character currently selected from the "Current Character" menu. This
will turn off evaluation for TFM. Your face will return to its neutral
pose, and the TFM controls will be hidden. Don't worry, they're still
there, and so is any facial animation you've done. Simply select
"Enable The Face Machine" again to turn it all back on.
</p><p>Note that this command enables and disables The Face Machine for the <b>current character</b> (see previous section for details), not for all characters in the scene.

</p><h2><a name="anzovin_rig_nodes">Anzovin Rig Nodes</a></h2>

<p>TFM rigs rely on custom nodes we've developed. To make those nodes
work in any given copy of Maya, you'll need to either have The Face
Machine or <b>Anzovin Rig Nodes</b> (henceforth <b>ARN</b>) installed. ARN is free, so you can install it on as many systems as you need to. Note that ARN enables you <i>use</i> a TFM rig, but to <i>modify</i> a rig, you'll need to have TFM installed.

</p><p>You can get the Anzovin Rig Nodes <a href="http://www.anzovin.com/products/arn1maya.html">here</a>.
Just like The Face Machine, you'll need to run the installer, then load
it using Maya's Plug-in Manager. (Windows &gt; Settings/Preferences
&gt; Plug-in Manager.) </p><p>Once you've got ARN installed, the Anzovin menu will appear.
When you load a character rigged with The Face Machine, you'll be able
to use this menu to access various TFM functions:
</p><p class="figureTitle">Figure 9.01: The Anzovin Menu
</p><p><img src="manual_files/figure09.jpg" alt="The Anzovin Menu">

</p><p>Everything here works exactly like its counterpart in The Face
Machine menu. Likewise, the Anzovin Panel and all TFM controls will
work with ARN the same way they do with TFM.
</p><p></p><h2><a name="contact_us">Contact Us</a></h2>

<p>For sales-related questions, like "Where's my serial number?" e-mail  <a href="mailto:sales@anzovin.com">sales@anzovin.com</a>.

</p><p>For technical support, check our <a href="http://www.anzovin.com/forum/">forum</a>, or e-mail <a href="mailto:support@anzovin.com">support@anzovin.com</a>.
When requesting support, please include such relevant information as
platform, OS version, and Maya version. Please be as specific as
possible when describing a bug--if you can provide us with an ordered
list of steps to reproduce the problem, you get bonus points! Feel free
to attach a file that displays the problem, as well.
</p><p>If you have an animation to submit to our showcase, e-mail <a href="mailto:webmaster@anzovin.com">webmaster@anzovin.com</a>.



</p><p></p><h2><a name="credits">Credits</a></h2>

<center>
<h3>Design:</h3>
<p>Jedidiah Mitchell and Raf Anzovin

</p><h3>Programming:</h3>
<p>Jedidiah Mitchell and Brian Kendall

</p><h3>Beta Testing:</h3>
<p>Yolao Heinz
<br>Jason Young
<br>Nicola Filiali
<br>Chris Myers
<br>Timothy Heath
<br>David Suroviec
<br>Tommie Lfqvist

</p><h3>Documentation:</h3>
<p>Morgan Robinson

</p></center>
			
			<!-- END MANUAL -->
			<br>
			<br>
						
		</div>
	
		
	</div>
	</body></html>